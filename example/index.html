<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Sample</title>
		<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
		<style type="text/css">
			.disabled {
				color: inherit;
				opacity: 0.5;
			}
			.disabled:hover {
				text-decoration: inherit;
				color: inherit;
				cursor: inherit;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<form class="myClass" action="https://jsonplaceholder.typicode.com/posts" method="post">
				<h4>Using a form</h4>
				<div class="form-group">
				<input type="text" name="foo" class="form-control" value="bar">
				</div>
				<div class="form-group">
				<input type="text" name="userId" class="form-control" value="1">
				</div>
				<div class="form-group"> <!-- <input type="submit" class="btn btn-primary" value="Go"> --><button type="submit" class="btn btn-primary">Go</button></div>
			</form>
			<p>
				<h4>Using a link</h4>
				<a class="myClass" data-foo="bar" href="https://jsonplaceholder.typicode.com/posts">Go</a>
			</p>
			<form class="myClass" action="https://jsonplaceholder.typicode.com/posts" method="post">
				<h4>It even works with files</h4>
				<!-- Some fancy styling -->
				<style>
					.form-file-drag-drop-area {
						width: 100%;
						max-height: 5.5em;
						overflow-y: auto;
						position: relative;
					}
					.form-file-drag-drop-area input[type=file] {
						position: absolute;
						width: 100%;
						height: 100%;
						top: 0;
						left: 0;
						right: 0;
						bottom: 0;
						opacity: 0;
						cursor: pointer;
					}
					.form-file-drag-drop-area .form-file-selected-info {
						width: 100%;
						padding: 30px;
						border: 1px solid #ced4da;
						border-radius: .25rem;
						text-align: center;
						background:
							url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMzcuNTc4IiBoZWlnaHQ9IjMzNy41NzkiPjxwYXRoIGZpbGw9IiNkZGQiIGQ9Ik0yNzQuMTA3IDEzMC42OGMtMTQuNjQ2LTI2LjE1MS00My40ODctNDEuMTU0LTc0LjQyNC0zNi4yMTUtMTIuMTQ3LTI1LjQ4Ny0zNy41MzYtNDEuNjczLTY2LjA5OC00MS42NzMtNDAuNDIxIDAtNzMuMzE4IDMyLjg5Ny03My4zMTggNzMuMzM0IDAgMS42NjYuMDY2IDMuMzg2LjIxNiA1LjE3QzI1LjU5MyAxMzkuMjU0IDAgMTcwLjc1IDAgMjA3LjAyNWMwIDQyLjg4IDM0Ljg3OSA3Ny43NTYgNzcuNzUzIDc3Ljc1NkgxNTMuNTg4di04Ni4yMzVsLTEwLjg2MyAxMC44NjNjLTUuNzAyIDUuNzA1LTE1LjY0NiA1LjcwNS0yMS4zNDQgMGExNS4wMTUgMTUuMDE1IDAgMDEtNC40MjgtMTAuNjcxYzAtNC4wMzUgMS41NzYtNy44MTIgNC40MzUtMTAuNjU4bDM2LjYzNS0zNi42NTNjMi43OTgtMi44MDEgNi42ODktNC40MDcgMTAuNjYxLTQuNDA3bDEuNDY1LjA0OGMzLjU0LjI4NSA2LjgzNiAxLjgwMiA5LjM5NSA0LjM0MWwzNi42NTkgMzYuNjcxYTE0Ljk2NCAxNC45NjQgMCAwMTQuNDI1IDEwLjY2NWMwIDQuMDIyLTEuNTczIDcuODMtNC40MzIgMTAuNjc2LTUuNjggNS42OTktMTUuNjQyIDUuNjk5LTIxLjM0MSAwbC0xMS4wODUtMTEuMTAzdjg2LjQ2OWg3Ni4wNTdjNDIuODc1IDAgNzcuNzUxLTM0Ljg4MiA3Ny43NTEtNzcuNzU2IDAtMzcuMzE0LTI3LjA2My02OS41Ni02My40NzEtNzYuMzUxeiIvPjwvc3ZnPg==)
							no-repeat
							center;
						background-size: contain;
					}
					.form-file-drag-drop-area .form-file-selected-info .form-file-selected {
						display: none;
					}
					.form-file-drag-drop-area:hover .form-file-selected-info {
						background-color: rgba(200, 200, 200, 0.2);
					}
					.form-file-drag-drop-area input[type=file]:valid + .form-file-selected-info {
						background-color: rgba(220, 220, 220, 0.2);
					}
					.form-file-drag-drop-area input[type=file]:valid + .form-file-selected-info .form-file-selected {
						display: inline-block;
					}
					.form-file-drag-drop-area input[type=file]:valid + .form-file-selected-info .form-file-placeholder {
						display: none;
					}
				</style>
				<!-- Optional JavaScript -->
				<script type="text/javascript">
					document.addEventListener("DOMContentLoaded", function(event) { 
						$(".form-file-drag-drop-area input[type='file']").each(function( index ) {
							$(this).on("change", function(event) {
								var files = new Array();
								for(var i=0; i<$(this)[0].files.length; i++){
									files.push($(this)[0].files[i].name);
								}
								$(this).closest(".form-file-drag-drop-area").find(".form-file-selected").html("Selected file(s): "+files.join(", "));
							});
						});
					});
				</script>
				<div class="form-group form-file-drag-drop-area">
					<input type="file" name="fileContent1" required="required" multiple="multiple" class="form-control">
					<div class="form-file-selected-info">
						<div class="form-file-selected">File(s) selected for upload</div>
						<div class="form-file-placeholder">Select files for upload</div>
					</div>
				</div>
				<!-- Unstyled version -->
				<div class="form-group">
					<input type="file" name="fileContent2" multiple class="form-control">
				</div>
				<div class="form-group"> <!-- <input type="submit" class="btn btn-primary" value="Go"> --><button type="submit" class="btn btn-primary">Go</button></div>
			</form>
			<form class="myClassValidation" action="https://jsonplaceholder.typicode.com/posts" method="post">
				<h4>Using a form with validation</h4>
				<div class="form-group">
				<input type="text" name="foo" class="form-control" value="" placeholder="Minimum 6 characters">
				</div>
				<div class="form-group"><button type="submit" class="btn btn-primary">Go</button></div>
				<div style="display:none;" class="alert alert-warning" role="alert">
				</div>
			</form>
			<div style="display:none;" class="alert alert-success" role="alert">
				<h4>Server said:</h4>
				<pre id="output"></pre>
			</div>
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
		<script src="../src/jquery.restful.js"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				$('.myClass').restful({
					onSuccess:function(data){
						$("#output").html(JSON.stringify(data, null, 2));
						$("#output").closest(".alert").show();
					}
				});
				$('.myClassValidation').restful({
					onSuccess:function(data){
						$("#output").html(JSON.stringify(data, null, 2));
						$("#output").closest(".alert").show();
					},
					onBeforeRequest:function(){
						if($(this).find("input").first().val().length>=6)
							return true;
						$(this).find('.alert-warning').html("Input too short");
						$(this).find('.alert-warning').fadeIn().delay(2000).fadeOut();
						return false;
					}
				});
			});
		</script>
	</body>
</html>
